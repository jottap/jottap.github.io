---
import { getLangFromUrl, useTranslations } from "../i18n/utils";
import { profile } from "../data/profile";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<section
    id="contact"
    class="scroll-mt-24 py-20 bg-primary border-t border-forge-800 print:hidden"
>
    <div class="max-w-4xl mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
            <div
                class="relative bg-orange-500/10 border-2 border-orange-500 rounded-xl p-8 flex flex-col items-center text-center hover:shadow-[0_0_40px_rgba(234,88,12,0.2)] transition-all duration-300 group transform hover:-translate-y-1"
            >
                {/* Badge */}
                <div
                    class="absolute -top-4 bg-accent text-white px-4 py-1 rounded-xl text-xs font-bold tracking-wide shadow-lg uppercase"
                >
                    {t("contact.fastest_response")}
                </div>

                {/* Glow Effect */}
                <div
                    class="absolute inset-0 bg-accent/5 rounded-xl pointer-events-none"
                >
                </div>
                <div
                    class="bg-accent/10 p-4 rounded-xl mb-6 text-accent group-hover:scale-110 transition-transform duration-300"
                >
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="64"
                        height="64"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                    >
                        <path d="M7.9 20A9 9 0 1 0 4 16.1L2 22Z"></path>
                    </svg>
                </div>
                <h3 class="text-2xl font-bold text-main dark:text-white mb-1">
                    {t("connect.whatsapp.title")}
                </h3>
                <p
                    class="text-accent font-medium text-sm mb-2 uppercase tracking-wide"
                >
                    {t("contact.fastest_response")}
                </p>
                <div class="mb-8">
                    <p
                        class="text-2xl font-bold text-main dark:text-white mb-1"
                    >
                        {profile.phone}
                    </p>
                    <p class="text-muted dark:text-forge-300 text-sm">
                        {t("connect.whatsapp.desc")}
                    </p>
                </div>
                <a
                    href={`https://wa.me/${profile.phone.replace(/\D/g, "")}`}
                    target="_blank"
                    rel="noopener noreferrer"
                    class="mt-auto px-8 py-4 bg-accent hover:bg-accent-light text-black text-lg rounded-xl font-bold shadow-lg shadow-accent/20 hover:shadow-accent/40 transition-all transform hover:-translate-y-1 w-full md:w-auto"
                >
                    {t("connect.whatsapp.action")}
                </a>
            </div>

            <div
                class="relative bg-forge-900/50 dark:bg-forge-900/50 bg-white border border-stone-200 dark:border-white/10 rounded-xl p-8 flex flex-col items-center text-center hover:border-accent/50 transition-all duration-300 group hover:shadow-lg"
            >
                <div
                    class="bg-stone-100 dark:bg-white/5 p-4 rounded-xl mb-6 text-muted dark:text-white group-hover:text-accent transition-colors duration-300"
                >
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="32"
                        height="32"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                    >
                        <path
                            d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"
                        ></path>
                        <polyline points="22,6 12,13 2,6"></polyline>
                    </svg>
                </div>
                <h3 class="text-xl font-bold text-main dark:text-white mb-2">
                    {t("connect.email.title")}
                </h3>
                <p class="text-muted dark:text-forge-300 text-sm mb-8">
                    {t("connect.email.desc")}
                </p>
                <a
                    href="mailto:contact@jottap.com"
                    class="mt-auto px-8 py-3 bg-transparent border-2 border-stone-200 dark:border-forge-700 text-main dark:text-white hover:border-accent hover:text-accent rounded-xl font-bold transition-all w-full md:w-auto"
                >
                    {t("connect.email.action")}
                </a>
            </div>
        </div>

        <div class="mt-20 text-center border-t border-forge-800 pt-8">
            <p class="text-forge-500 text-sm">
                {t("footer.rights")}
            </p>
        </div>
    </div>
</section>
